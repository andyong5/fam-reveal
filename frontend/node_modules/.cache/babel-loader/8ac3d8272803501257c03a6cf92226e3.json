{"ast":null,"code":"import _defineProperty from\"/home/c65382/Desktop/fam-reveal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/home/c65382/Desktop/fam-reveal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import\"./Home.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(_ref){var _jsx2;var setAppName=_ref.setAppName,setAppFam=_ref.setAppFam;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(\"nes-input\"),_useState6=_slicedToArray(_useState5,2),inputClass=_useState6[0],setInputClass=_useState6[1];var history=useHistory();var handleSubmission=function handleSubmission(event){event.preventDefault();console.log(name);var formData=new FormData();formData.append(\"name\",name);console.log(formData);fetch(\"/reveal\",{method:\"POST\",body:formData}).then(function(response){return response.json();}).then(function(data){if('message'in data){setError(true);setInputClass(\"nes-input is-error\");}else{console.log(data);setError(false);setInputClass(\"nes-input\");history.push(\"/reveal\",{params:data});}}).catch(function(error){console.log(error);console.log('got in here');setError(true);});};return/*#__PURE__*/_jsx(\"div\",{class:\"work\",children:/*#__PURE__*/_jsx(\"div\",{class:\"center\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"nes-container is-rounded\",children:[/*#__PURE__*/_jsx(\"p\",{class:\"title\",id:\"welcome\",children:\"Welcome to Fam Reveal\"}),/*#__PURE__*/_jsxs(\"form\",{class:\"container\",onSubmit:handleSubmission,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Choose your family:\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"nes-bulbasaur is-small\"}),/*#__PURE__*/_jsx(\"i\",{class:\"nes-charmander is-small\"}),/*#__PURE__*/_jsx(\"i\",{class:\"nes-squirtle is-small\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{class:\"nes-field\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:inputClass,placeholder:\"Your Name\",onChange:function onChange(e){return setName(e.target.value);},required:true}),error?/*#__PURE__*/_jsx(\"label\",{class:\"nes-text is-error\",id:\"error\",children:\"Wrong name. Please try again.\"}):null]}),/*#__PURE__*/_jsx(\"button\",(_jsx2={type:\"button\",class:\"nes-btn is-success\"},_defineProperty(_jsx2,\"type\",\"submit\"),_defineProperty(_jsx2,\"id\",\"reveal_btn\"),_defineProperty(_jsx2,\"children\",\"Reveal!\"),_jsx2)),/*#__PURE__*/_jsx(\"i\",{class:\"nes-pokeball is-small\"})]})]})})});}export default Home;","map":{"version":3,"sources":["/home/c65382/Desktop/fam-reveal/frontend/src/Home.js"],"names":["React","useState","useEffect","useHistory","Home","setAppName","setAppFam","name","setName","error","setError","inputClass","setInputClass","history","handleSubmission","event","preventDefault","console","log","formData","FormData","append","fetch","method","body","then","response","json","data","push","params","catch","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./Home.css\";\n\nfunction Home({setAppName, setAppFam}) {\n  const [name, setName] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [inputClass, setInputClass] = useState(\"nes-input\");\n  const history = useHistory();\n\n  const handleSubmission = (event) => {\n    event.preventDefault();\n    console.log(name);\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    console.log(formData);\n    fetch(\"/reveal\", {\n      method: \"POST\",\n      body: formData,\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        if('message' in data){\n          setError(true)\n          setInputClass(\"nes-input is-error\")\n        } else {\n          console.log(data);\n          setError(false);\n          setInputClass(\"nes-input\");\n          history.push(\"/reveal\", {params: data})\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n        console.log('got in here')\n        setError(true)\n      });\n  };\n\n  return (\n    <div class=\"work\">\n      <div class=\"center\">\n        <div class=\"nes-container is-rounded\">\n          <p class=\"title\" id=\"welcome\">\n            Welcome to Fam Reveal\n          </p>\n          <form class=\"container\" onSubmit={handleSubmission}>\n            <label>Choose your family:</label>\n            <div>\n              <i class=\"nes-bulbasaur is-small\"></i>\n              <i class=\"nes-charmander is-small\"></i>\n              <i class=\"nes-squirtle is-small\"></i>\n            </div>\n            <br></br>\n            <div class=\"nes-field\">\n              <input\n                type=\"text\"\n                class={inputClass}\n                placeholder=\"Your Name\"\n                onChange={(e) => setName(e.target.value)}\n                required\n              ></input>\n              {error ? (\n                <label class=\"nes-text is-error\" id=\"error\">\n                  Wrong name. Please try again.\n                </label>\n              ) : null}\n            </div>\n            <button type=\"button\" class=\"nes-btn is-success\" type=\"submit\" id=\"reveal_btn\">\n              Reveal!\n            </button>\n            <i class=\"nes-pokeball is-small\"></i>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}